var e,t,n=Object.defineProperty,r=Object.defineProperties,i=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,u=(e,t,r)=>t in e?n(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,c=(e,t)=>{for(var n in t||(t={}))o.call(t,n)&&u(e,n,t[n]);if(a)for(var n of a(t))s.call(t,n)&&u(e,n,t[n]);return e},d=(e,t)=>r(e,i(t)),l=(e,t)=>{var n={};for(var r in e)o.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&a)for(var r of a(e))t.indexOf(r)<0&&s.call(e,r)&&(n[r]=e[r]);return n};(t=e||(e={})).uninitialized="uninitialized",t.pending="pending",t.fulfilled="fulfilled",t.rejected="rejected";import{isPlainObject as f}from"@reduxjs/toolkit";var p=f;function m(e,t){if(e===t||!(p(e)&&p(t)||Array.isArray(e)&&Array.isArray(t)))return t;const n=Object.keys(t),r=Object.keys(e);let i=n.length===r.length;const a=Array.isArray(t)?[]:{};for(const r of n)a[r]=m(e[r],t[r]),i&&(i=e[r]===a[r]);return i?e:a}import{isPlainObject as h}from"@reduxjs/toolkit";var y=(...e)=>fetch(...e),g=e=>e.status>=200&&e.status<=299,v=async(e,t)=>{if("function"==typeof t)return t(e);if("text"===t)return e.text();if("json"===t){const t=await e.text();return t.length?JSON.parse(t):void 0}};function b(e){if(!h(e))return e;const t=c({},e);for(const[e,n]of Object.entries(t))void 0===n&&delete t[e];return t}function q(e={}){var t=e,{baseUrl:n,prepareHeaders:r=(e=>e),fetchFn:i=y}=t,a=l(t,["baseUrl","prepareHeaders","fetchFn"]);return"undefined"==typeof fetch&&i===y&&console.warn("Warning: `fetch` is not available. Please supply a custom `fetchFn` property to use `fetchBaseQuery` on SSR environments."),async(e,{signal:t,getState:o})=>{let s,u="string"==typeof e?{url:e}:e,{url:f,method:p="GET",headers:m=new Headers({}),body:y,params:q,responseHandler:O="json",validateStatus:j=g}=u,R=l(u,["url","method","headers","body","params","responseHandler","validateStatus"]),w=c(d(c({},a),{method:p,signal:t,body:y}),R);var S;if(w.headers=await r(new Headers(b(m)),{getState:o}),w.headers.has("content-type")||"object"!=typeof(S=y)||!h(S)&&!Array.isArray(S)&&"function"!=typeof S.toJSON||w.headers.set("content-type","application/json"),y&&(e=>{var t,n;return null==(n=null==(t=e.get("content-type"))?void 0:t.trim())?void 0:n.startsWith("application/json")})(w.headers)&&(w.body=JSON.stringify(y)),q){const e=~f.indexOf("?")?"&":"?";f+=e+new URLSearchParams(b(q))}f=function(e,t){return e?t?function(e){return new RegExp("(^|:)//").test(e)}(t)?t:`${e=(e=>e.replace(/\/$/,""))(e)}/${t=(e=>e.replace(/^\//,""))(t)}`:e:t}(n,f);const T=new Request(f,w);let x;s={request:T.clone()};try{x=await i(T)}catch(e){return{error:{status:"FETCH_ERROR",error:String(e)},meta:s}}const A=x.clone();let k;s.response=A;let P="";try{let e;if(await Promise.all([v(x,O).then((e=>k=e),(t=>e=t)),A.text().then((e=>P=e),(()=>{}))]),e)throw e}catch(e){return{error:{status:"PARSING_ERROR",originalStatus:x.status,data:P,error:String(e)},meta:s}}return j(x,k)?{data:k,meta:s}:{error:{status:x.status,data:k},meta:s}}}var O=class{constructor(e,t){this.value=e,this.meta=t}};async function j(e=0,t=5){const n=Math.min(e,t),r=~~((Math.random()+.4)*(300<<n));await new Promise((e=>setTimeout((t=>e(t)),r)))}var R=Object.assign(((e,t)=>async(n,r,i)=>{const a=c(c({maxRetries:5,backoff:j},t),i);let o=0;for(;;)try{const t=await e(n,r,i);if(t.error)throw new O(t);return t}catch(e){if(o++,e.throwImmediately||o>a.maxRetries){if(e instanceof O)return e.value;throw e}await a.backoff(o,a.maxRetries)}}),{fail:function(e){throw Object.assign(new O({error:e}),{throwImmediately:!0})}});import{createAction as w}from"@reduxjs/toolkit";var S,T,x=w("__rtkq/focused"),A=w("__rtkq/unfocused"),k=w("__rtkq/online"),P=w("__rtkq/offline"),C=!1;function I(e,t){return t?t(e,{onFocus:x,onFocusLost:A,onOffline:P,onOnline:k}):function(){const t=()=>e(x()),n=()=>e(k()),r=()=>e(P()),i=()=>{"visible"===window.document.visibilityState?t():e(A())};return C||"undefined"!=typeof window&&window.addEventListener&&(window.addEventListener("visibilitychange",i,!1),window.addEventListener("focus",t,!1),window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),C=!0),()=>{window.removeEventListener("focus",t),window.removeEventListener("visibilitychange",i),window.removeEventListener("online",n),window.removeEventListener("offline",r),C=!1}}()}import{createNextState as Q,createSelector as D}from"@reduxjs/toolkit";import{combineReducers as N,createAction as E,createSlice as K,isAnyOf as M,isFulfilled as F,isRejectedWithValue as z}from"@reduxjs/toolkit";function _(e,t,n,r,i){return"function"==typeof e?e(t,n,r).map(L).map(i):Array.isArray(e)?e.map(L).map(i):[]}function L(e){return"string"==typeof e?{type:e}:e}(T=S||(S={})).query="query",T.mutation="mutation";import{isAllOf as $,isFulfilled as U,isPending as W,isRejected as H,isRejectedWithValue as V}from"@reduxjs/toolkit";import{isDraftable as J,produceWithPatches as B}from"immer";import{createAsyncThunk as G}from"@reduxjs/toolkit";function Y(e){return e}function X(e,t,n,r){return _(n[e.meta.arg.endpointName][t],U(e)?e.payload:void 0,V(e)?e.payload:void 0,e.meta.arg.originalArgs,r)}import{applyPatches as Z}from"immer";function ee(e,t,n){const r=e[t];r&&n(r)}function te(e){var t;return null!=(t="arg"in e?e.arg.fixedCacheKey:e.fixedCacheKey)?t:e.requestId}function ne(e,t,n){const r=e[te(t)];r&&n(r)}var re={},ie=Symbol.for("RTKQ/skipToken"),ae=ie,oe={status:e.uninitialized},se=Q(oe,(()=>{})),ue=Q(oe,(()=>{}));import{isPlainObject as ce}from"@reduxjs/toolkit";var de=({endpointName:e,queryArgs:t})=>`${e}(${JSON.stringify(t,((e,t)=>ce(t)?Object.keys(t).sort().reduce(((e,n)=>(e[n]=t[n],e)),{}):t))})`;import{nanoid as le}from"@reduxjs/toolkit";import{defaultMemoize as fe}from"reselect";function pe(...e){return function(t){const n=fe((e=>{var n,r;return null==(r=t.extractRehydrationInfo)?void 0:r.call(t,e,{reducerPath:null!=(n=t.reducerPath)?n:"api"})})),r=d(c({reducerPath:"api",serializeQueryArgs:de,keepUnusedDataFor:60,refetchOnMountOrArgChange:!1,refetchOnFocus:!1,refetchOnReconnect:!1},t),{extractRehydrationInfo:n,tagTypes:[...t.tagTypes||[]]}),i={endpointDefinitions:{},batch(e){e()},apiUid:le(),extractRehydrationInfo:n,hasRehydrationInfo:fe((e=>null!=n(e)))},a={injectEndpoints:function(e){const t=e.endpoints({query:e=>d(c({},e),{type:S.query}),mutation:e=>d(c({},e),{type:S.mutation})});for(const[n,r]of Object.entries(t))if(e.overrideExisting||!(n in i.endpointDefinitions)){i.endpointDefinitions[n]=r;for(const e of o)e.injectEndpoint(n,r)}return a},enhanceEndpoints({addTagTypes:e,endpoints:t}){if(e)for(const t of e)r.tagTypes.includes(t)||r.tagTypes.push(t);if(t)for(const[e,n]of Object.entries(t))"function"==typeof n&&n(i.endpointDefinitions[e]),Object.assign(i.endpointDefinitions[e]||{},n);return a}},o=e.map((e=>e.init(a,r,i)));return a.injectEndpoints({endpoints:t.endpoints})}}function me(){return function(){throw new Error("When using `fakeBaseQuery`, all queries & mutations must use the `queryFn` definition syntax.")}}import{compose as he}from"redux";import{createAction as ye}from"@reduxjs/toolkit";var ge=({reducerPath:e,api:t,context:n})=>{const{removeQueryResult:r,unsubscribeQueryResult:i}=t.internalActions;return a=>{const o={};return r=>u=>{var c;const d=r(u);if(i.match(u)){const t=a.getState()[e],{queryCacheKey:n}=u.payload;s(n,null==(c=t.queries[n])?void 0:c.endpointName,a,t.config)}if(t.util.resetApiState.match(u))for(const[e,t]of Object.entries(o))t&&clearTimeout(t),delete o[e];if(n.hasRehydrationInfo(u)){const t=a.getState()[e],{queries:r}=n.extractRehydrationInfo(u);for(const[e,n]of Object.entries(r))s(e,null==n?void 0:n.endpointName,a,t.config)}return d};function s(t,i,a,s){var u;const c=n.endpointDefinitions[i],d=null!=(u=null==c?void 0:c.keepUnusedDataFor)?u:s.keepUnusedDataFor,l=o[t];l&&clearTimeout(l),o[t]=setTimeout((()=>{const n=a.getState()[e].subscriptions[t];n&&0!==Object.keys(n).length||a.dispatch(r({queryCacheKey:t})),delete o[t]}),1e3*d)}}};import{isAnyOf as ve,isFulfilled as be,isRejectedWithValue as qe}from"@reduxjs/toolkit";var Oe=({reducerPath:t,context:n,context:{endpointDefinitions:r},mutationThunk:i,api:a,assertTagType:o,refetchQuery:s})=>{const{removeQueryResult:u}=a.internalActions;return e=>t=>n=>{const s=t(n);return ve(be(i),qe(i))(n)&&c(X(n,"invalidatesTags",r,o),e),a.util.invalidateTags.match(n)&&c(_(n.payload,void 0,void 0,void 0,o),e),s};function c(r,i){var a;const o=i.getState()[t],c=new Set;for(const e of r){const t=o.provided[e.type];if(!t)continue;let n=null!=(a=void 0!==e.id?t[e.id]:(d=Object.values(t),[].concat(...d)))?a:[];for(const e of n)c.add(e)}var d;n.batch((()=>{const t=Array.from(c.values());for(const n of t){const t=o.queries[n],r=o.subscriptions[n];t&&r&&(0===Object.keys(r).length?i.dispatch(u({queryCacheKey:n})):t.status!==e.uninitialized&&i.dispatch(s(t,n)))}}))}},je=({reducerPath:t,queryThunk:n,api:r,refetchQuery:i})=>{return o=>{const s={};return e=>t=>{const i=e(t);return r.internalActions.updateSubscriptionOptions.match(t)&&c(t.payload,o),(n.pending.match(t)||n.rejected.match(t)&&t.meta.condition)&&c(t.meta.arg,o),(n.fulfilled.match(t)||n.rejected.match(t)&&!t.meta.condition)&&u(t.meta.arg,o),r.util.resetApiState.match(t)&&function(){for(const[e,t]of Object.entries(s))(null==t?void 0:t.timeout)&&clearTimeout(t.timeout),delete s[e]}(),i};function u({queryCacheKey:n},r){const o=r.getState()[t],u=o.queries[n];if(!u||u.status===e.uninitialized)return;const c=a(o.subscriptions[n]);if(!Number.isFinite(c))return;const d=s[n];(null==d?void 0:d.timeout)&&(clearTimeout(d.timeout),d.timeout=void 0);const l=Date.now()+c,f=s[n]={nextPollTimestamp:l,pollingInterval:c,timeout:setTimeout((()=>{f.timeout=void 0,r.dispatch(i(u,n))}),c)}}function c({queryCacheKey:n},r){const i=r.getState()[t],o=i.queries[n];if(!o||o.status===e.uninitialized)return;const c=a(i.subscriptions[n]),d=s[n];if(!Number.isFinite(c))return(null==d?void 0:d.timeout)&&clearTimeout(d.timeout),void delete s[n];const l=Date.now()+c;(!d||l<d.nextPollTimestamp)&&u({queryCacheKey:n},r)}};function a(e={}){let t=Number.POSITIVE_INFINITY;for(const n of Object.values(e))n.pollingInterval&&(t=Math.min(n.pollingInterval,t));return t}},Re=({reducerPath:t,context:n,refetchQuery:r})=>{return e=>t=>n=>{const r=t(n);return x.match(n)&&i(e,"refetchOnFocus"),k.match(n)&&i(e,"refetchOnReconnect"),r};function i(i,a){const o=i.getState()[t],s=o.queries,u=o.subscriptions;n.batch((()=>{for(const t of Object.keys(u)){const n=s[t],c=u[t];if(!c||!n||n.status===e.uninitialized)return;(Object.values(c).some((e=>!0===e[a]))||Object.values(c).every((e=>void 0===e[a]))&&o.config[a])&&i.dispatch(r(n,t))}}))}};import{isAsyncThunkAction as we,isFulfilled as Se}from"@reduxjs/toolkit";var Te=new Error("Promise never resolved before cacheEntryRemoved."),xe=({api:e,reducerPath:t,context:n,queryThunk:r,mutationThunk:i})=>{const a=we(r),o=we(i),s=Se(r,i);return u=>{const l={};return n=>c=>{const d=u.getState(),p=n(c),m=function(t){return a(t)?t.meta.arg.queryCacheKey:o(t)?t.meta.requestId:e.internalActions.removeQueryResult.match(t)?t.payload.queryCacheKey:e.internalActions.removeMutationResult.match(t)?te(t.payload):""}(c);if(r.pending.match(c)){const e=d[t].queries[m],n=u.getState()[t].queries[m];!e&&n&&f(c.meta.arg.endpointName,c.meta.arg.originalArgs,m,u,c.meta.requestId)}else if(i.pending.match(c))u.getState()[t].mutations[m]&&f(c.meta.arg.endpointName,c.meta.arg.originalArgs,m,u,c.meta.requestId);else if(s(c)){const e=l[m];(null==e?void 0:e.valueResolved)&&(e.valueResolved({data:c.payload,meta:c.meta.baseQueryMeta}),delete e.valueResolved)}else if(e.internalActions.removeQueryResult.match(c)||e.internalActions.removeMutationResult.match(c)){const e=l[m];e&&(delete l[m],e.cacheEntryRemoved())}else if(e.util.resetApiState.match(c))for(const[e,t]of Object.entries(l))delete l[e],t.cacheEntryRemoved();return p};function f(t,r,i,a,o){const s=n.endpointDefinitions[t],u=null==s?void 0:s.onCacheEntryAdded;if(!u)return;let f={};const p=new Promise((e=>{f.cacheEntryRemoved=e})),m=Promise.race([new Promise((e=>{f.valueResolved=e})),p.then((()=>{throw Te}))]);m.catch((()=>{})),l[i]=f;const h=e.endpoints[t].select(s.type===S.query?r:i),y=a.dispatch(((e,t,n)=>n)),g=d(c({},a),{getCacheEntry:()=>h(a.getState()),requestId:o,extra:y,updateCachedData:s.type===S.query?n=>a.dispatch(e.util.updateQueryData(t,r,n)):void 0,cacheDataLoaded:m,cacheEntryRemoved:p}),v=u(r,g);Promise.resolve(v).catch((e=>{if(e!==Te)throw e}))}}};import{isPending as Ae,isRejected as ke,isFulfilled as Pe}from"@reduxjs/toolkit";var Ce=({api:e,context:t,queryThunk:n,mutationThunk:r})=>{const i=Ae(n,r),a=ke(n,r),o=Pe(n,r);return n=>{const r={};return s=>u=>{var l,f,p;const m=s(u);if(i(u)){const{requestId:i,arg:{endpointName:a,originalArgs:o}}=u.meta,s=t.endpointDefinitions[a],l=null==s?void 0:s.onQueryStarted;if(l){const t={},u=new Promise(((e,n)=>{t.resolve=e,t.reject=n}));u.catch((()=>{})),r[i]=t;const f=e.endpoints[a].select(s.type===S.query?o:i),p=n.dispatch(((e,t,n)=>n)),m=d(c({},n),{getCacheEntry:()=>f(n.getState()),requestId:i,extra:p,updateCachedData:s.type===S.query?t=>n.dispatch(e.util.updateQueryData(a,o,t)):void 0,queryFulfilled:u});l(o,m)}}else if(o(u)){const{requestId:e,baseQueryMeta:t}=u.meta;null==(l=r[e])||l.resolve({data:u.payload,meta:t}),delete r[e]}else if(a(u)){const{requestId:e,rejectedWithValue:t,baseQueryMeta:n}=u.meta;null==(p=r[e])||p.reject({error:null!=(f=u.payload)?f:u.error,isUnhandledError:!t,meta:n}),delete r[e]}return m}}},Ie=({api:e,context:{apiUid:t}})=>n=>{let r=!1;return i=>a=>{r||(r=!0,n.dispatch(e.internalActions.middlewareRegistered(t)));const o=i(a);return e.util.resetApiState.match(a)&&n.dispatch(e.internalActions.middlewareRegistered(t)),o}};function Qe(e,...t){Object.assign(e,...t)}import{enablePatches as De}from"immer";var Ne=Symbol(),Ee=()=>({name:Ne,init(t,{baseQuery:n,reducerPath:r,serializeQueryArgs:i,keepUnusedDataFor:a,refetchOnMountOrArgChange:o,refetchOnFocus:s,refetchOnReconnect:u},l){De();const f=e=>e;Object.assign(t,{reducerPath:r,endpoints:{},internalActions:{onOnline:k,onOffline:P,onFocus:x,onFocusLost:A},util:{}});const{queryThunk:p,mutationThunk:h,patchQueryData:y,updateQueryData:g,prefetch:v,buildMatchThunkActions:b}=function({reducerPath:t,baseQuery:n,context:{endpointDefinitions:r},serializeQueryArgs:i,api:a}){const o=async(e,{signal:t,rejectWithValue:i,fulfillWithValue:a,dispatch:o,getState:s,extra:u})=>{const c=r[e.endpointName];try{let r,i=Y;const d={signal:t,dispatch:o,getState:s,extra:u};if(c.query?(r=await n(c.query(e.originalArgs),d,c.extraOptions),c.transformResponse&&(i=c.transformResponse)):r=await c.queryFn(e.originalArgs,d,c.extraOptions,(e=>n(e,d,c.extraOptions))),r.error)throw new O(r.error,r.meta);return a(await i(r.data,r.meta,e),{fulfilledTimeStamp:Date.now(),baseQueryMeta:r.meta})}catch(e){if(e instanceof O)return i(e.value,{baseQueryMeta:e.meta});throw console.error(e),e}};function s(e){return t=>{var n,r;return(null==(r=null==(n=null==t?void 0:t.meta)?void 0:n.arg)?void 0:r.endpointName)===e}}return{queryThunk:G(`${t}/executeQuery`,o,{getPendingMeta:()=>({startedTimeStamp:Date.now()}),condition(e,{getState:n}){var r,i;const a=n()[t],o=null==(r=null==a?void 0:a.queries)?void 0:r[e.queryCacheKey],s=null==o?void 0:o.fulfilledTimeStamp,u=null!=(i=e.forceRefetch)?i:e.subscribe&&a.config.refetchOnMountOrArgChange;return"pending"!==(null==o?void 0:o.status)&&(!s||!!u&&(!0===u||(Number(new Date)-Number(s))/1e3>=u))},dispatchConditionRejection:!0}),mutationThunk:G(`${t}/executeMutation`,o,{getPendingMeta:()=>({startedTimeStamp:Date.now()})}),prefetch:(e,t,n)=>(r,i)=>{const o=(e=>"force"in e)(n)&&n.force,s=(e=>"ifOlderThan"in e)(n)&&n.ifOlderThan,u=(n=!0)=>a.endpoints[e].initiate(t,{forceRefetch:n}),c=a.endpoints[e].select(t)(i());if(o)r(u());else if(s){const e=null==c?void 0:c.fulfilledTimeStamp;if(!e)return void r(u());(Number(new Date)-Number(new Date(e)))/1e3>=s&&r(u())}else r(u(!1))},updateQueryData:(t,n,r)=>(i,o)=>{const s=a.endpoints[t].select(n)(o());let u={patches:[],inversePatches:[],undo:()=>i(a.util.patchQueryData(t,n,u.inversePatches))};if(s.status===e.uninitialized)return u;if("data"in s)if(J(s.data)){const[,e,t]=B(s.data,r);u.patches.push(...e),u.inversePatches.push(...t)}else{const e=r(s.data);u.patches.push({op:"replace",path:[],value:e}),u.inversePatches.push({op:"replace",path:[],value:s.data})}return i(a.util.patchQueryData(t,n,u.patches)),u},patchQueryData:(e,t,n)=>o=>{o(a.internalActions.queryResultPatched({queryCacheKey:i({queryArgs:t,endpointDefinition:r[e],endpointName:e}),patches:n}))},buildMatchThunkActions:function(e,t){return{matchPending:$(W(e),s(t)),matchFulfilled:$(U(e),s(t)),matchRejected:$(H(e),s(t))}}}}({baseQuery:n,reducerPath:r,context:l,api:t,serializeQueryArgs:i}),{reducer:q,actions:j}=function({reducerPath:t,queryThunk:n,mutationThunk:r,context:{endpointDefinitions:i,apiUid:a,extractRehydrationInfo:o,hasRehydrationInfo:s},assertTagType:u,config:l}){const f=E(`${t}/resetApiState`),p=K({name:`${t}/queries`,initialState:re,reducers:{removeQueryResult(e,{payload:{queryCacheKey:t}}){delete e[t]},queryResultPatched(e,{payload:{queryCacheKey:t,patches:n}}){ee(e,t,(e=>{e.data=Z(e.data,n.concat())}))}},extraReducers(t){t.addCase(n.pending,((t,{meta:n,meta:{arg:r}})=>{var i;r.subscribe&&(null!=t[i=r.queryCacheKey]||(t[i]={status:e.uninitialized,endpointName:r.endpointName})),ee(t,r.queryCacheKey,(t=>{t.status=e.pending,t.requestId=n.requestId,t.originalArgs=r.originalArgs,t.startedTimeStamp=n.startedTimeStamp}))})).addCase(n.fulfilled,((t,{meta:n,payload:r})=>{ee(t,n.arg.queryCacheKey,(t=>{t.requestId===n.requestId&&(t.status=e.fulfilled,t.data=m(t.data,r),delete t.error,t.fulfilledTimeStamp=n.fulfilledTimeStamp)}))})).addCase(n.rejected,((t,{meta:{condition:n,arg:r,requestId:i},error:a,payload:o})=>{ee(t,r.queryCacheKey,(t=>{if(n);else{if(t.requestId!==i)return;t.status=e.rejected,t.error=null!=o?o:a}}))})).addMatcher(s,((t,n)=>{const{queries:r}=o(n);for(const[n,i]of Object.entries(r))(null==i?void 0:i.status)!==e.fulfilled&&(null==i?void 0:i.status)!==e.rejected||(t[n]=i)}))}}),h=K({name:`${t}/mutations`,initialState:re,reducers:{removeMutationResult(e,{payload:t}){const n=te(t);n in e&&delete e[n]}},extraReducers(t){t.addCase(r.pending,((t,{meta:n,meta:{requestId:r,arg:i,startedTimeStamp:a}})=>{i.track&&(t[te(n)]={requestId:r,status:e.pending,endpointName:i.endpointName,startedTimeStamp:a})})).addCase(r.fulfilled,((t,{payload:n,meta:r})=>{r.arg.track&&ne(t,r,(t=>{t.requestId===r.requestId&&(t.status=e.fulfilled,t.data=n,t.fulfilledTimeStamp=r.fulfilledTimeStamp)}))})).addCase(r.rejected,((t,{payload:n,error:r,meta:i})=>{i.arg.track&&ne(t,i,(t=>{t.requestId===i.requestId&&(t.status=e.rejected,t.error=null!=n?n:r)}))})).addMatcher(s,((t,n)=>{const{mutations:r}=o(n);for(const[n,i]of Object.entries(r))(null==i?void 0:i.status)!==e.fulfilled&&(null==i?void 0:i.status)!==e.rejected||n===(null==i?void 0:i.requestId)||(t[n]=i)}))}}),y=K({name:`${t}/invalidation`,initialState:re,reducers:{},extraReducers(e){e.addCase(p.actions.removeQueryResult,((e,{payload:{queryCacheKey:t}})=>{for(const n of Object.values(e))for(const e of Object.values(n)){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}})).addMatcher(s,((e,t)=>{var n,r,i,a;const{provided:s}=o(t);for(const[t,o]of Object.entries(s))for(const[s,u]of Object.entries(o)){const o=null!=(a=(r=null!=(n=e[t])?n:e[t]={})[i=s||"__internal_without_id"])?a:r[i]=[];for(const e of u)o.includes(e)||o.push(e)}})).addMatcher(M(F(n),z(n)),((e,t)=>{var n,r,a,o;const s=X(t,"providesTags",i,u),{queryCacheKey:c}=t.meta.arg;for(const{type:t,id:i}of s){const s=null!=(o=(r=null!=(n=e[t])?n:e[t]={})[a=i||"__internal_without_id"])?o:r[a]=[];s.includes(c)||s.push(c)}}))}}),g=K({name:`${t}/subscriptions`,initialState:re,reducers:{updateSubscriptionOptions(e,{payload:{queryCacheKey:t,requestId:n,options:r}}){var i;(null==(i=null==e?void 0:e[t])?void 0:i[n])&&(e[t][n]=r)},unsubscribeQueryResult(e,{payload:{queryCacheKey:t,requestId:n}}){e[t]&&delete e[t][n]}},extraReducers:e=>{e.addCase(p.actions.removeQueryResult,((e,{payload:{queryCacheKey:t}})=>{delete e[t]})).addCase(n.pending,((e,{meta:{arg:t,requestId:n}})=>{var r,i,a,o;if(t.subscribe){const s=null!=(i=e[r=t.queryCacheKey])?i:e[r]={};s[n]=null!=(o=null!=(a=t.subscriptionOptions)?a:s[n])?o:{}}})).addCase(n.rejected,((e,{meta:{condition:t,arg:n,requestId:r}})=>{var i,a,o,s;if(t&&n.subscribe){const t=null!=(a=e[i=n.queryCacheKey])?a:e[i]={};t[r]=null!=(s=null!=(o=n.subscriptionOptions)?o:t[r])?s:{}}})).addMatcher(s,(e=>c({},e)))}}),v=K({name:`${t}/config`,initialState:c({online:"undefined"==typeof navigator||void 0===navigator.onLine||navigator.onLine,focused:"undefined"==typeof document||"hidden"!==document.visibilityState,middlewareRegistered:!1},l),reducers:{middlewareRegistered(e,{payload:t}){e.middlewareRegistered="conflict"!==e.middlewareRegistered&&a===t||"conflict"}},extraReducers:e=>{e.addCase(k,(e=>{e.online=!0})).addCase(P,(e=>{e.online=!1})).addCase(x,(e=>{e.focused=!0})).addCase(A,(e=>{e.focused=!1})).addMatcher(s,(e=>c({},e)))}}),b=N({queries:p.reducer,mutations:h.reducer,provided:y.reducer,subscriptions:g.reducer,config:v.reducer});return{reducer:(e,t)=>b(f.match(t)?void 0:e,t),actions:d(c(c(c(c({},v.actions),p.actions),g.actions),h.actions),{unsubscribeMutationResult:h.actions.removeMutationResult,resetApiState:f})}}({context:l,queryThunk:p,mutationThunk:h,reducerPath:r,assertTagType:f,config:{refetchOnFocus:s,refetchOnReconnect:u,refetchOnMountOrArgChange:o,keepUnusedDataFor:a,reducerPath:r}});Qe(t.util,{patchQueryData:y,updateQueryData:g,prefetch:v,resetApiState:j.resetApiState}),Qe(t.internalActions,j),Object.defineProperty(t.util,"updateQueryResult",{get:()=>t.util.updateQueryData}),Object.defineProperty(t.util,"patchQueryResult",{get:()=>t.util.patchQueryData});const{middleware:R,actions:w}=function(e){const{reducerPath:t,queryThunk:n}=e,r={invalidateTags:ye(`${t}/invalidateTags`)},i=[Ie,ge,Oe,je,Re,xe,Ce].map((t=>t(d(c({},e),{refetchQuery:a}))));return{middleware:e=>n=>{const r=he(...i.map((t=>t(e))))(n);return i=>e.getState()[t]?r(i):n(i)},actions:r};function a(e,t,r={}){return n(c({endpointName:e.endpointName,originalArgs:e.originalArgs,subscribe:!1,forceRefetch:!0,queryCacheKey:t},r))}}({reducerPath:r,context:l,queryThunk:p,mutationThunk:h,api:t,assertTagType:f});Qe(t.util,w),Qe(t,{reducer:q,middleware:R});const{buildQuerySelector:T,buildMutationSelector:C}=function({serializeQueryArgs:t,reducerPath:n}){return{buildQuerySelector:function(e,n){return a=>{const o=D(i,(r=>{var i,o;return null!=(o=a===ie||null==(i=null==r?void 0:r.queries)?void 0:i[t({queryArgs:a,endpointDefinition:n,endpointName:e})])?o:se}));return D(o,r)}},buildMutationSelector:function(){return e=>{var t;let n;n="object"==typeof e?null!=(t=te(e))?t:ie:e;const a=D(i,(e=>{var t,r;return null!=(r=n===ie||null==(t=null==e?void 0:e.mutations)?void 0:t[n])?r:ue}));return D(a,r)}}};function r(t){return c(c({},t),{status:n=t.status,isUninitialized:n===e.uninitialized,isLoading:n===e.pending,isSuccess:n===e.fulfilled,isError:n===e.rejected});var n}function i(e){return e[n]}}({serializeQueryArgs:i,reducerPath:r}),{buildInitiateQuery:I,buildInitiateMutation:Q,getRunningOperationPromises:_,getRunningOperationPromise:L}=function({serializeQueryArgs:e,queryThunk:t,mutationThunk:n,api:r,context:i}){const a={},o={},{unsubscribeQueryResult:s,removeMutationResult:u,updateSubscriptionOptions:c}=r.internalActions;return{buildInitiateQuery:function(n,i){const o=(u,{subscribe:d=!0,forceRefetch:l,subscriptionOptions:f}={})=>(p,m)=>{const h=e({queryArgs:u,endpointDefinition:i,endpointName:n}),y=t({subscribe:d,forceRefetch:l,subscriptionOptions:f,endpointName:n,originalArgs:u,queryCacheKey:h}),g=p(y),{requestId:v,abort:b}=g,q=Object.assign(Promise.all([a[h],g]).then((()=>r.endpoints[n].select(u)(m()))),{arg:u,requestId:v,subscriptionOptions:f,abort:b,refetch(){p(o(u,{subscribe:!1,forceRefetch:!0}))},unsubscribe(){d&&p(s({queryCacheKey:h,requestId:v}))},updateSubscriptionOptions(e){q.subscriptionOptions=e,p(c({endpointName:n,requestId:v,queryCacheKey:h,options:e}))}});return a[h]||(a[h]=q,q.then((()=>{delete a[h]}))),q};return o},buildInitiateMutation:function(e){return(t,{track:r=!0,fixedCacheKey:i}={})=>(a,s)=>{const c=n({endpointName:e,originalArgs:t,track:r,fixedCacheKey:i}),d=a(c),{requestId:l,abort:f}=d,p=d.unwrap().then((e=>({data:e}))).catch((e=>({error:e}))),m=()=>{a(u({requestId:l,fixedCacheKey:i}))},h=Object.assign(p,{arg:d.arg,requestId:l,abort:f,unwrap:d.unwrap,unsubscribe:m,reset:m});return o[l]=h,h.then((()=>{delete o[l]})),i&&(o[i]=h,h.then((()=>{o[i]===h&&delete o[i]}))),h}},getRunningOperationPromises:function(){return[...Object.values(a),...Object.values(o)].filter((e=>!!e))},getRunningOperationPromise:function(t,n){const r=i.endpointDefinitions[t];if(r.type===S.query){const i=e({queryArgs:n,endpointDefinition:r,endpointName:t});return a[i]}return o[n]}}}({queryThunk:p,mutationThunk:h,api:t,serializeQueryArgs:i,context:l});return Qe(t.util,{getRunningOperationPromises:_,getRunningOperationPromise:L}),{name:Ne,injectEndpoint(e,n){var r;const i=t;null!=(r=i.endpoints)[e]||(r[e]={}),n.type===S.query?Qe(i.endpoints[e],{select:T(e,n),initiate:I(e,n)},b(p,e)):n.type===S.mutation&&Qe(i.endpoints[e],{select:C(),initiate:Q(e)},b(h,e))}}}}),Ke=pe(Ee());export{e as QueryStatus,pe as buildCreateApi,m as copyWithStructuralSharing,Ee as coreModule,Ke as createApi,me as fakeBaseQuery,q as fetchBaseQuery,R as retry,I as setupListeners,ae as skipSelector,ie as skipToken};
//# sourceMappingURL=rtk-query.modern.production.min.js.map