var e=Object.defineProperty,t=Object.defineProperties,r=Object.getOwnPropertyDescriptors,n=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,o=(t,r,n)=>r in t?e(t,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[r]=n,s=(e,t)=>{for(var r in t||(t={}))u.call(t,r)&&o(e,r,t[r]);if(n)for(var r of n(t))i.call(t,r)&&o(e,r,t[r]);return e},c=(e,n)=>t(e,r(n));import{coreModule as a,buildCreateApi as l}from"@reduxjs/toolkit/query";import{createSelector as d}from"@reduxjs/toolkit";import{useCallback as p,useEffect as f,useLayoutEffect as y,useMemo as m,useRef as b,useState as h}from"react";import{QueryStatus as v,skipToken as g}from"@reduxjs/toolkit/query";import{shallowEqual as O}from"react-redux";import{useEffect as S,useRef as Q,useMemo as x}from"react";function z(e,t,r,n){const u=x((()=>({queryArgs:e,serialized:"object"==typeof e?t({queryArgs:e,endpointDefinition:r,endpointName:n}):e})),[e,t,r,n]),i=Q(u);return S((()=>{i.current.serialized!==u.serialized&&(i.current=u)}),[u]),i.current.serialized===u.serialized?i.current.queryArgs:e}var j=Symbol();import{useEffect as q,useRef as R}from"react";import{shallowEqual as k}from"react-redux";function w(e){const t=R(e);return q((()=>{k(t.current,e)||(t.current=e)}),[e]),k(t.current,e)?t.current:e}var I,A,L="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?y:f,E=e=>e,D=e=>e,F=(e,t)=>{let r=e.isSuccess?e.data:null==t?void 0:t.data;void 0===r&&(r=e.data);const n=void 0!==r,u=e.isLoading,i=!n&&u,o=e.isSuccess||u&&n;return c(s({},e),{data:r,currentData:e.data,isFetching:u,isLoading:i,isSuccess:o})},P=e=>e.isUninitialized?c(s({},e),{isUninitialized:!1,isFetching:!0,isLoading:void 0===e.data,status:v.pending}):e;function C(e){return e.replace(e[0],e[0].toUpperCase())}function M(e,...t){Object.assign(e,...t)}(A=I||(I={})).query="query",A.mutation="mutation";import{useDispatch as _,useSelector as K,useStore as H,batch as U}from"react-redux";var $=Symbol(),N=({batch:e=U,useDispatch:t=_,useSelector:r=K,useStore:n=H,unstable__sideEffectsInRender:u=!1}={})=>({name:$,init(i,{serializeQueryArgs:o},a){const l=i,{buildQueryHooks:y,buildMutationHook:v,usePrefetch:S}=function({api:e,moduleOptions:{batch:t,useDispatch:r,useSelector:n,useStore:u,unstable__sideEffectsInRender:i},serializeQueryArgs:o,context:a}){const l=i?e=>e():f;return{buildQueryHooks:function(i){const y=(t,{refetchOnReconnect:n,refetchOnFocus:u,refetchOnMountOrArgChange:s,skip:c=!1,pollingInterval:d=0}={})=>{const{initiate:p}=e.endpoints[i],y=r(),h=z(c?g:t,o,a.endpointDefinitions[i],i),v=w({refetchOnReconnect:n,refetchOnFocus:u,pollingInterval:d}),O=b();return l((()=>{var e;const t=O.current;if(h===g)return null==t||t.unsubscribe(),void(O.current=void 0);const r=null==(e=O.current)?void 0:e.subscriptionOptions;if(t&&t.arg===h)v!==r&&t.updateSubscriptionOptions(v);else{null==t||t.unsubscribe();const e=y(p(h,{subscriptionOptions:v,forceRefetch:s}));O.current=e}}),[y,p,s,h,v]),f((()=>()=>{var e;null==(e=O.current)||e.unsubscribe(),O.current=void 0}),[]),m((()=>({refetch:()=>{var e;null==(e=O.current)||e.refetch()}})),[])},v=({refetchOnReconnect:n,refetchOnFocus:u,pollingInterval:o=0}={})=>{const{initiate:s}=e.endpoints[i],c=r(),[a,d]=h(j),y=b(),v=w({refetchOnReconnect:n,refetchOnFocus:u,pollingInterval:o});l((()=>{var e,t;const r=null==(e=y.current)?void 0:e.subscriptionOptions;v!==r&&(null==(t=y.current)||t.updateSubscriptionOptions(v))}),[v]);const g=b(v);l((()=>{g.current=v}),[v]);const O=p((function(e,r=!1){t((()=>{var t;null==(t=y.current)||t.unsubscribe(),y.current=c(s(e,{subscriptionOptions:g.current,forceRefetch:!r})),d(e)}))}),[c,s]);return f((()=>()=>{var e;null==(e=null==y?void 0:y.current)||e.unsubscribe()}),[]),f((()=>{a===j||y.current||O(a,!0)}),[a,O]),m((()=>[O,a]),[O,a])},S=(t,{skip:r=!1,selectFromResult:s=E}={})=>{const{select:c}=e.endpoints[i],l=z(r?g:t,o,a.endpointDefinitions[i],i),p=b(),f=m((()=>d([c(l),(e,t)=>t],F)),[c,l]),y=m((()=>d([f],s)),[f,s]),h=n((e=>y(e,p.current)),O),v=u(),S=f(v.getState(),p.current);return L((()=>{p.current=S}),[S]),h};return{useQueryState:S,useQuerySubscription:y,useLazyQuerySubscription:v,useLazyQuery(e){const[t,r]=v(e),n=S(r,c(s({},e),{skip:r===j})),u=m((()=>({lastArg:r})),[r]);return m((()=>[t,n,u]),[t,n,u])},useQuery(e,t){const r=y(e,t),n=S(e,s({selectFromResult:e===g||(null==t?void 0:t.skip)?void 0:P},t));return m((()=>s(s({},n),r)),[n,r])}}},buildMutationHook:function(t){return({selectFromResult:u=D,fixedCacheKey:i}={})=>{const{select:o,initiate:a}=e.endpoints[t],l=r(),[y,b]=h();f((()=>()=>{(null==y?void 0:y.arg.fixedCacheKey)||null==y||y.reset()}),[y]);const v=p((function(e){const t=l(a(e,{fixedCacheKey:i}));return b(t),t}),[l,a,i]),{requestId:g}=y||{},S=m((()=>d([o({fixedCacheKey:i,requestId:null==y?void 0:y.requestId})],u)),[o,y,u,i]),Q=n(S,O),x=null==i?null==y?void 0:y.arg.originalArgs:void 0,z=p((()=>{y?b(void 0):i&&l(e.internalActions.removeMutationResult({requestId:g,fixedCacheKey:i}))}),[l,i,y,g]),j=m((()=>c(s({},Q),{originalArgs:x,reset:z})),[Q,x,z]);return m((()=>[v,j]),[v,j])}},usePrefetch:function(t,n){const u=r(),i=w(n);return p(((r,n)=>u(e.util.prefetch(t,r,s(s({},i),n)))),[t,u,i])}}}({api:i,moduleOptions:{batch:e,useDispatch:t,useSelector:r,useStore:n,unstable__sideEffectsInRender:u},serializeQueryArgs:o,context:a});return M(l,{usePrefetch:S}),M(a,{batch:e}),{injectEndpoint(e,t){if(t.type===I.query){const{useQuery:t,useLazyQuery:r,useLazyQuerySubscription:n,useQueryState:u,useQuerySubscription:o}=y(e);M(l.endpoints[e],{useQuery:t,useLazyQuery:r,useLazyQuerySubscription:n,useQueryState:u,useQuerySubscription:o}),i[`use${C(e)}Query`]=t,i[`useLazy${C(e)}Query`]=r}else if(t.type===I.mutation){const t=v(e);M(l.endpoints[e],{useMutation:t}),i[`use${C(e)}Mutation`]=t}}}}});export*from"@reduxjs/toolkit/query";import{configureStore as B}from"@reduxjs/toolkit";import G from"react";import{Provider as J}from"react-redux";import{setupListeners as T}from"@reduxjs/toolkit/query";function V(e){const[t]=G.useState((()=>B({reducer:{[e.api.reducerPath]:e.api.reducer},middleware:t=>t().concat(e.api.middleware)})));return T(t.dispatch,e.setupListeners),G.createElement(J,{store:t,context:e.context},e.children)}var W=l(a(),N());export{V as ApiProvider,W as createApi,N as reactHooksModule};
//# sourceMappingURL=rtk-query-react.modern.production.min.js.map