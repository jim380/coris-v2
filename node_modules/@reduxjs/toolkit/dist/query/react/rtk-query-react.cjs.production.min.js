var e=this&&this.__spreadArray||function(e,r){for(var t=0,n=r.length,u=e.length;t<n;t++,u++)e[u]=r[t];return e},r=Object.create,t=Object.defineProperty,n=Object.defineProperties,u=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyDescriptors,o=Object.getOwnPropertyNames,c=Object.getOwnPropertySymbols,s=Object.getPrototypeOf,a=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,f=function(e,r,n){return r in e?t(e,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[r]=n},d=function(e,r){for(var t in r||(r={}))a.call(r,t)&&f(e,t,r[t]);if(c)for(var n=0,u=c(r);n<u.length;n++)l.call(r,t=u[n])&&f(e,t,r[t]);return e},p=function(e,r){return n(e,i(r))},v=function(e){return t(e,"__esModule",{value:!0})},y=function(e,r,n){if(r&&"object"==typeof r||"function"==typeof r)for(var i=function(i){a.call(e,i)||"default"===i||t(e,i,{get:function(){return r[i]},enumerable:!(n=u(r,i))||n.enumerable})},c=0,s=o(r);c<s.length;c++)i(s[c]);return e},b=function(e){return y(v(t(null!=e?r(s(e)):{},"default",e&&e.__esModule&&"default"in e?{get:function(){return e.default},enumerable:!0}:{value:e,enumerable:!0})),e)};v(exports),function(e,r){for(var n in r)t(e,n,{get:r[n],enumerable:!0})}(exports,{ApiProvider:function(){return N},createApi:function(){return B},reactHooksModule:function(){return F}});var h=b(require("@reduxjs/toolkit/query")),g=b(require("@reduxjs/toolkit")),m=b(require("react")),O=b(require("@reduxjs/toolkit/query")),S=b(require("react-redux")),q=b(require("react"));function k(e,r,t,n){var u=(0,q.useMemo)((function(){return{queryArgs:e,serialized:"object"==typeof e?r({queryArgs:e,endpointDefinition:t,endpointName:n}):e}}),[e,r,t,n]),i=(0,q.useRef)(u);return(0,q.useEffect)((function(){i.current.serialized!==u.serialized&&(i.current=u)}),[u]),i.current.serialized===u.serialized?i.current.queryArgs:e}var Q=Symbol(),x=b(require("react")),j=b(require("react-redux"));function M(e){var r=(0,x.useRef)(e);return(0,x.useEffect)((function(){(0,j.shallowEqual)(r.current,e)||(r.current=e)}),[e]),(0,j.shallowEqual)(r.current,e)?r.current:e}var E,R,w="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?m.useLayoutEffect:m.useEffect,z=function(e){return e},A=function(e){return e},P=function(e,r){var t=e.isSuccess?e.data:null==r?void 0:r.data;void 0===t&&(t=e.data);var n=void 0!==t,u=e.isLoading,i=!n&&u,o=e.isSuccess||u&&n;return p(d({},e),{data:t,currentData:e.data,isFetching:u,isLoading:i,isSuccess:o})},L=function(e){return e.isUninitialized?p(d({},e),{isUninitialized:!1,isFetching:!0,isLoading:void 0===e.data,status:O.QueryStatus.pending}):e};function C(e){return e.replace(e[0],e[0].toUpperCase())}function I(r){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];Object.assign.apply(Object,e([r],t))}(R=E||(E={})).query="query",R.mutation="mutation";var _=b(require("react-redux")),D=Symbol(),F=function(e){var r=void 0===e?{}:e,t=r.batch,n=void 0===t?_.batch:t,u=r.useDispatch,i=void 0===u?_.useDispatch:u,o=r.useSelector,c=void 0===o?_.useSelector:o,s=r.useStore,a=void 0===s?_.useStore:s,l=r.unstable__sideEffectsInRender,f=void 0!==l&&l;return{name:D,init:function(e,r,t){var u=e,o=function(e){var r=e.api,t=e.moduleOptions,n=t.batch,u=t.useDispatch,i=t.useSelector,o=t.useStore,c=e.serializeQueryArgs,s=e.context,a=t.unstable__sideEffectsInRender?function(e){return e()}:m.useEffect;return{buildQueryHooks:function(e){var t=function(t,n){var i=void 0===n?{}:n,o=i.refetchOnReconnect,l=i.refetchOnFocus,f=i.refetchOnMountOrArgChange,d=i.skip,p=void 0!==d&&d,v=i.pollingInterval,y=void 0===v?0:v,b=r.endpoints[e].initiate,h=u(),g=k(p?O.skipToken:t,c,s.endpointDefinitions[e],e),S=M({refetchOnReconnect:o,refetchOnFocus:l,pollingInterval:y}),q=(0,m.useRef)();return a((function(){var e,r=q.current;if(g===O.skipToken)return null==r||r.unsubscribe(),void(q.current=void 0);var t=null==(e=q.current)?void 0:e.subscriptionOptions;if(r&&r.arg===g)S!==t&&r.updateSubscriptionOptions(S);else{null==r||r.unsubscribe();var n=h(b(g,{subscriptionOptions:S,forceRefetch:f}));q.current=n}}),[h,b,f,g,S]),(0,m.useEffect)((function(){return function(){var e;null==(e=q.current)||e.unsubscribe(),q.current=void 0}}),[]),(0,m.useMemo)((function(){return{refetch:function(){var e;null==(e=q.current)||e.refetch()}}}),[])},l=function(t){var i=void 0===t?{}:t,o=i.refetchOnReconnect,c=i.refetchOnFocus,s=i.pollingInterval,l=void 0===s?0:s,f=r.endpoints[e].initiate,d=u(),p=(0,m.useState)(Q),v=p[0],y=p[1],b=(0,m.useRef)(),h=M({refetchOnReconnect:o,refetchOnFocus:c,pollingInterval:l});a((function(){var e,r,t=null==(e=b.current)?void 0:e.subscriptionOptions;h!==t&&(null==(r=b.current)||r.updateSubscriptionOptions(h))}),[h]);var g=(0,m.useRef)(h);a((function(){g.current=h}),[h]);var O=(0,m.useCallback)((function(e,r){void 0===r&&(r=!1),n((function(){var t;null==(t=b.current)||t.unsubscribe(),b.current=d(f(e,{subscriptionOptions:g.current,forceRefetch:!r})),y(e)}))}),[d,f]);return(0,m.useEffect)((function(){return function(){var e;null==(e=null==b?void 0:b.current)||e.unsubscribe()}}),[]),(0,m.useEffect)((function(){v===Q||b.current||O(v,!0)}),[v,O]),(0,m.useMemo)((function(){return[O,v]}),[O,v])},f=function(t,n){var u=void 0===n?{}:n,a=u.skip,l=u.selectFromResult,f=void 0===l?z:l,d=r.endpoints[e].select,p=k(void 0!==a&&a?O.skipToken:t,c,s.endpointDefinitions[e],e),v=(0,m.useRef)(),y=(0,m.useMemo)((function(){return(0,g.createSelector)([d(p),function(e,r){return r}],P)}),[d,p]),b=(0,m.useMemo)((function(){return(0,g.createSelector)([y],f)}),[y,f]),h=i((function(e){return b(e,v.current)}),S.shallowEqual),q=o(),Q=y(q.getState(),v.current);return w((function(){v.current=Q}),[Q]),h};return{useQueryState:f,useQuerySubscription:t,useLazyQuerySubscription:l,useLazyQuery:function(e){var r=l(e),t=r[0],n=r[1],u=f(n,p(d({},e),{skip:n===Q})),i=(0,m.useMemo)((function(){return{lastArg:n}}),[n]);return(0,m.useMemo)((function(){return[t,u,i]}),[t,u,i])},useQuery:function(e,r){var n=t(e,r),u=f(e,d({selectFromResult:e===O.skipToken||(null==r?void 0:r.skip)?void 0:L},r));return(0,m.useMemo)((function(){return d(d({},u),n)}),[u,n])}}},buildMutationHook:function(e){return function(t){var n=void 0===t?{}:t,o=n.selectFromResult,c=void 0===o?A:o,s=n.fixedCacheKey,a=r.endpoints[e],l=a.select,f=a.initiate,v=u(),y=(0,m.useState)(),b=y[0],h=y[1];(0,m.useEffect)((function(){return function(){(null==b?void 0:b.arg.fixedCacheKey)||null==b||b.reset()}}),[b]);var O=(0,m.useCallback)((function(e){var r=v(f(e,{fixedCacheKey:s}));return h(r),r}),[v,f,s]),q=(b||{}).requestId,k=(0,m.useMemo)((function(){return(0,g.createSelector)([l({fixedCacheKey:s,requestId:null==b?void 0:b.requestId})],c)}),[l,b,c,s]),Q=i(k,S.shallowEqual),x=null==s?null==b?void 0:b.arg.originalArgs:void 0,j=(0,m.useCallback)((function(){b?h(void 0):s&&v(r.internalActions.removeMutationResult({requestId:q,fixedCacheKey:s}))}),[v,s,b,q]),M=(0,m.useMemo)((function(){return p(d({},Q),{originalArgs:x,reset:j})}),[Q,x,j]);return(0,m.useMemo)((function(){return[O,M]}),[O,M])}},usePrefetch:function(e,t){var n=u(),i=M(t);return(0,m.useCallback)((function(t,u){return n(r.util.prefetch(e,t,d(d({},i),u)))}),[e,n,i])}}}({api:e,moduleOptions:{batch:n,useDispatch:i,useSelector:c,useStore:a,unstable__sideEffectsInRender:f},serializeQueryArgs:r.serializeQueryArgs,context:t}),s=o.buildQueryHooks,l=o.buildMutationHook;return I(u,{usePrefetch:o.usePrefetch}),I(t,{batch:n}),{injectEndpoint:function(r,t){if(t.type===E.query){var n=s(r),i=n.useQuery,o=n.useLazyQuery;I(u.endpoints[r],{useQuery:i,useLazyQuery:o,useLazyQuerySubscription:n.useLazyQuerySubscription,useQueryState:n.useQueryState,useQuerySubscription:n.useQuerySubscription}),e["use"+C(r)+"Query"]=i,e["useLazy"+C(r)+"Query"]=o}else if(t.type===E.mutation){var c=l(r);I(u.endpoints[r],{useMutation:c}),e["use"+C(r)+"Mutation"]=c}}}}}};y(exports,b(require("@reduxjs/toolkit/query")));var H=b(require("@reduxjs/toolkit")),K=b(require("react")),T=b(require("react-redux")),U=b(require("@reduxjs/toolkit/query"));function N(e){var r=K.default.useState((function(){var r;return(0,H.configureStore)({reducer:(r={},r[e.api.reducerPath]=e.api.reducer,r),middleware:function(r){return r().concat(e.api.middleware)}})}))[0];return(0,U.setupListeners)(r.dispatch,e.setupListeners),K.default.createElement(T.Provider,{store:r,context:e.context},e.children)}var B=(0,h.buildCreateApi)((0,h.coreModule)(),F());
//# sourceMappingURL=rtk-query-react.cjs.production.min.js.map